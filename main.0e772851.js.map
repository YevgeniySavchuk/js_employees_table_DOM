{"version":3,"sources":["scripts/main.js"],"names":["tHead","document","querySelector","tBody","countClickName","countClickPosition","countClickOffice","countClickAge","countClickSalary","addEventListener","e","rowsList","sorted","querySelectorAll","target","textContent","sort","a","b","cells","localeCompare","letterA","letterB","re","replace","slice","append","classList","remove","parentNode","className","body","insertAdjacentHTML","form","notification","createElement","setAttribute","style","fontWeight","fontSize","position","top","visibility","initialText","innerText","cellInput","add","appendChild","focus","ev","key","value","button","pushNewEmployee","newEmployee","validation","elements","name","age","salary","flag","office","salaryToString","el","setTimeout","description","num","separ","str","toString","result","i","length","inputName","inputPosition","inputAge","inputSalary","preventDefault","formWidth","parseInt","window","getComputedStyle","width","formPadding","padding","tbodyWidth","rightNotifPos","innerWidth","right"],"mappings":";AAAA,aAqVC,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAnVD,IAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAEjCE,EAAiB,EACjBC,EAAqB,EACrBC,EAAmB,EACnBC,EAAgB,EAChBC,EAAmB,EAEvBR,EAAMS,iBAAiB,QAAS,SAACC,GACzBC,IACAC,EAAaD,EADFR,EAAMU,iBAAiB,OAGhCH,OAAAA,EAAEI,OAAOC,aACV,IAAA,OACHX,IACAC,EAAqB,EACrBC,EAAmB,EACnBC,EAAgB,EAChBC,EAAmB,EAEnBI,EAAOI,KAAK,SAACC,EAAGC,GACPD,OAAAA,EAAEE,MAAM,GAAGJ,YAAYK,cAAcF,EAAEC,MAAM,GAAGJ,eAGrDX,EAAiB,GAAM,GACzBQ,EAAOI,KAAK,SAACC,EAAGC,GACPA,OAAAA,EAAEC,MAAM,GAAGJ,YAAYK,cAAcH,EAAEE,MAAM,GAAGJ,eAG3D,MAEG,IAAA,WACHX,EAAiB,EACjBC,IACAC,EAAmB,EACnBC,EAAgB,EAChBC,EAAmB,EAEnBI,EAAOI,KAAK,SAACC,EAAGC,GACPD,OAAAA,EAAEE,MAAM,GAAGJ,YAAYK,cAAcF,EAAEC,MAAM,GAAGJ,eAGrDV,EAAqB,GAAM,GAC7BO,EAAOI,KAAK,SAACC,EAAGC,GACPA,OAAAA,EAAEC,MAAM,GAAGJ,YAAYK,cAAcH,EAAEE,MAAM,GAAGJ,eAG3D,MAEG,IAAA,SACHX,EAAiB,EACjBC,EAAqB,EACrBC,IACAC,EAAgB,EAChBC,EAAmB,EAEnBI,EAAOI,KAAK,SAACC,EAAGC,GACPD,OAAAA,EAAEE,MAAM,GAAGJ,YAAYK,cAAcF,EAAEC,MAAM,GAAGJ,eAGrDT,EAAmB,GAAM,GAC3BM,EAAOI,KAAK,SAACC,EAAGC,GACPA,OAAAA,EAAEC,MAAM,GAAGJ,YAAYK,cAAcH,EAAEE,MAAM,GAAGJ,eAG3D,MAEG,IAAA,MACHX,EAAiB,EACjBC,EAAqB,EACrBC,EAAmB,EACnBC,IACAC,EAAmB,EAEnBI,EAAOI,KAAK,SAACC,EAAGC,GAIPG,OAHUJ,EAAEE,MAAM,GAAGJ,aACXG,EAAEC,MAAM,GAAGJ,cAK1BR,EAAgB,GAAM,GACxBK,EAAOI,KAAK,SAACC,EAAGC,GACRG,IAAAA,GAAWJ,EAAEE,MAAM,GAAGJ,YAGrBO,OAFUJ,EAAEC,MAAM,GAAGJ,YAEXM,IAGrB,MAEG,IAAA,SACHjB,EAAiB,EACjBC,EAAqB,EACrBC,EAAmB,EACnBC,EAAgB,EAChBC,IAEMe,IAAAA,EAAK,MAEXX,EAAOI,KAAK,SAACC,EAAGC,GACRG,IAAAA,GAAWJ,EAAEE,MAAM,GAAGJ,YAAYS,QAAQD,EAAI,IAAIE,MAAM,GACxDH,GAAWJ,EAAEC,MAAM,GAAGJ,YAAYS,QAAQD,EAAI,IAAIE,MAAM,GAE1DjB,OAAAA,EAAmB,GAAM,GACnB,GAAKa,EAAUC,GAGlBD,EAAUC,IAKvBnB,EAAMuB,OAANvB,MAAAA,EAAgBS,EAAAA,MAGlBT,EAAMM,iBAAiB,QAAS,SAACC,GACzBC,IAD+B,EAGnBA,EAAAA,EAFDR,EAAMU,iBAAiB,OADH,IAGT,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,EAAA,MACtBc,UAAUC,OAAO,WAJc,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAOrClB,EAAEI,OAAOe,WAAWC,UAAY,WAGlC7B,SAAS8B,KAAKC,mBAAmB,YAAjC,47BAiDA,IAAMC,EAAOhC,SAASC,cAAc,QAC9BgC,EAAejC,SAASkC,cAAc,OAE5CD,EAAaJ,UAAY,oBACzBI,EAAaE,aAAa,UAAW,gBACrCF,EAAaG,MAAMC,WAAa,OAChCJ,EAAaG,MAAME,SAAW,OAC9BL,EAAaG,MAAMG,SAAW,WAC9BN,EAAaG,MAAMI,IAAM,QACzBP,EAAaG,MAAMK,WAAa,SAEhCzC,SAAS8B,KAAKL,OAAOQ,GAErB/B,EAAMM,iBAAiB,WAAY,SAACC,GAC5BiC,IAAAA,EAAcjC,EAAEI,OAAO8B,UACvBC,EAAY5C,SAASkC,cAAc,SAEzCzB,EAAEI,OAAO8B,UAAY,GACrBC,EAAUlB,UAAUmB,IAAI,cAExBpC,EAAEI,OAAOiC,YAAYF,GACrBA,EAAUG,QAEVH,EAAUpC,iBAAiB,UAAW,SAACwC,GACtB,UAAXA,EAAGC,MACLxC,EAAEI,OAAOC,YAAckC,EAAGnC,OAAOqC,MAET,KAApBF,EAAGnC,OAAOqC,QACZzC,EAAEI,OAAO8B,UAAYD,MAK3BE,EAAUpC,iBAAiB,OAAQ,SAACwC,GAClCvC,EAAEI,OAAO8B,UAAYK,EAAGnC,OAAOqC,MAEP,KAApBN,EAAUM,QACZzC,EAAEI,OAAO8B,UAAYD,OAK3B,IAAMS,EAASnD,SAASC,cAAc,UAgBtC,SAASmD,IACDC,IAAAA,EAAcC,EAClBtB,EAAKuB,SAASC,KAAKN,MACnBlB,EAAKuB,SAAShB,SAASW,MACvBlB,EAAKuB,SAASE,IAAIP,MAClBlB,EAAKuB,SAASG,OAAOR,OAGnBG,GAAAA,EAAYM,KAAM,CACpBzD,EAAM6B,mBAAmB,YAEfC,6BAAAA,OAAAA,EAAKuB,SAASC,KAAKN,MACnBlB,uBAAAA,OAAAA,EAAKuB,SAAShB,SAASW,MACvBlB,uBAAAA,OAAAA,EAAKuB,SAASK,OAAOV,MACrBlB,uBAAAA,OAAAA,EAAKuB,SAASE,IAAIP,MAClBW,uBAAAA,OAAAA,EAAe7B,EAAKuB,SAASG,OAAOR,OAN9C,6BASAjB,EAAaU,UAAY,sCACzBV,EAAaP,UAAUmB,IAAI,WAC3BZ,EAAaG,MAAMK,WAAa,UAEfT,IAdG,EAcHA,EAAAA,EAAAA,EAAKuB,UAdF,IAcY,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAArBO,IAAAA,EAAqB,EAAA,MACd,WAAZA,EAAGN,OACLM,EAAGZ,MAAQ,KAhBK,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAoBpBa,WAAW,WACT9B,EAAaG,MAAMK,WAAa,UAC/B,UAEHR,EAAaU,UAAYU,EAAYW,YACrC/B,EAAaP,UAAUmB,IAAI,SAC3BZ,EAAaG,MAAMK,WAAa,UAIpC,SAASoB,EAAeI,GAIjB,IAJsBC,IAAAA,EAAQ,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,IAC7BC,EAAMF,EAAIG,WACZC,EAAS,GAEJC,EAAI,EAAGA,EAAIH,EAAII,OAAS,EAAGD,IAClCD,EAASH,EAAQC,EAAI3C,OAAkB,GAAT8C,EAAI,GAASH,EAAII,OAAc,EAAJD,GAAUD,EAG9D,MAAA,IAAMA,EAAO7C,MAAM,GAG5B,SAAS8B,EAAWkB,EAAWC,EAAeC,EAAUC,GAChDN,IAAAA,EAAS,CAEfA,MAAc,GAoDPA,OAlDHG,EAAUD,OAAS,IACrBF,EAAOV,MAAO,EACdU,EAAOL,YAAc,iDAGD,KAAlBS,IACFJ,EAAOL,aAAe,wBAElBK,EAAOV,OACTU,EAAOV,MAAO,EACdU,EAAOL,YAAc,kCAIpBU,IACHL,EAAOL,aAAe,uBAElBK,EAAOV,OACTU,EAAOV,MAAO,EACdU,EAAOL,YAAc,iCAIrBU,EAAW,IAAMA,EAAW,IAC9BL,EAAOL,aAAe,0BAElBK,EAAOV,OACTU,EAAOV,MAAO,EACdU,EAAOL,YAAc,oCAIrBU,EAAW,KACbL,EAAOL,aAAe,2BAElBK,EAAOV,OACTU,EAAOV,MAAO,EACdU,EAAOL,YAAc,qCAIpBW,IACHN,EAAOL,aAAe,iCAElBK,EAAOV,OACTU,EAAOV,MAAO,EACdU,EAAOL,YAAc,2CAIlBK,EAtHTlB,EAAO3C,iBAAiB,QAAS,SAACC,GAChCA,EAAEmE,iBACFxB,IAEMyB,IAAAA,EAAYC,SAASC,OAAOC,iBAAiBhD,EAAM,MAAMiD,OACzDC,EAAcJ,SAASC,OAAOC,iBAAiBhD,EAAM,MAAMmD,SAC3DC,EAAaN,SAASC,OAAOC,iBAAiB9E,EAAO,MAAM+E,OAC3DI,GACFN,OAAOO,YAAcF,EAAaP,EAAYK,IAAgB,EAElEjD,EAAaG,MAAMmD,MAAWF,GAAAA,OAAAA,EAA9B,MACApD,EAAaG,MAAM6C,MAAQF,OAAOC,iBAAiBhD,EAAM,MAAMiD","file":"main.0e772851.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tHead = document.querySelector('thead');\nconst tBody = document.querySelector('tbody');\n\nlet countClickName = 0;\nlet countClickPosition = 0;\nlet countClickOffice = 0;\nlet countClickAge = 0;\nlet countClickSalary = 0;\n\ntHead.addEventListener('click', (e) => {\n  const rowsList = tBody.querySelectorAll('tr');\n  const sorted = [...rowsList];\n\n  switch (e.target.textContent) {\n    case 'Name':\n      countClickName++;\n      countClickPosition = 0;\n      countClickOffice = 0;\n      countClickAge = 0;\n      countClickSalary = 0;\n\n      sorted.sort((a, b) => {\n        return a.cells[0].textContent.localeCompare(b.cells[0].textContent);\n      });\n\n      if (countClickName % 2 === 0) {\n        sorted.sort((a, b) => {\n          return b.cells[0].textContent.localeCompare(a.cells[0].textContent);\n        });\n      };\n      break;\n\n    case 'Position':\n      countClickName = 0;\n      countClickPosition++;\n      countClickOffice = 0;\n      countClickAge = 0;\n      countClickSalary = 0;\n\n      sorted.sort((a, b) => {\n        return a.cells[1].textContent.localeCompare(b.cells[1].textContent);\n      });\n\n      if (countClickPosition % 2 === 0) {\n        sorted.sort((a, b) => {\n          return b.cells[1].textContent.localeCompare(a.cells[1].textContent);\n        });\n      };\n      break;\n\n    case 'Office':\n      countClickName = 0;\n      countClickPosition = 0;\n      countClickOffice++;\n      countClickAge = 0;\n      countClickSalary = 0;\n\n      sorted.sort((a, b) => {\n        return a.cells[2].textContent.localeCompare(b.cells[2].textContent);\n      });\n\n      if (countClickOffice % 2 === 0) {\n        sorted.sort((a, b) => {\n          return b.cells[2].textContent.localeCompare(a.cells[2].textContent);\n        });\n      };\n      break;\n\n    case 'Age':\n      countClickName = 0;\n      countClickPosition = 0;\n      countClickOffice = 0;\n      countClickAge++;\n      countClickSalary = 0;\n\n      sorted.sort((a, b) => {\n        const letterA = +a.cells[3].textContent;\n        const letterB = +b.cells[3].textContent;\n\n        return letterA - letterB;\n      });\n\n      if (countClickAge % 2 === 0) {\n        sorted.sort((a, b) => {\n          const letterA = +a.cells[3].textContent;\n          const letterB = +b.cells[3].textContent;\n\n          return letterB - letterA;\n        });\n      };\n      break;\n\n    case 'Salary':\n      countClickName = 0;\n      countClickPosition = 0;\n      countClickOffice = 0;\n      countClickAge = 0;\n      countClickSalary++;\n\n      const re = /,/gi;\n\n      sorted.sort((a, b) => {\n        const letterA = +a.cells[4].textContent.replace(re, '').slice(1);\n        const letterB = +b.cells[4].textContent.replace(re, '').slice(1);\n\n        if (countClickSalary % 2 === 0) {\n          return -1 * (letterA - letterB);\n        }\n\n        return letterA - letterB;\n      });\n      break;\n  }\n\n  tBody.append(...sorted);\n});\n\ntBody.addEventListener('click', (e) => {\n  const rowsList = tBody.querySelectorAll('tr');\n\n  for (const row of rowsList) {\n    row.classList.remove('active');\n  }\n\n  e.target.parentNode.className = 'active';\n});\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class=\"new-employee-form\">\n    <label>\n      Name:\n      <input\n        name=\"name\"\n        data-qa=\"name\"\n        required\n        minlength=\"4\"\n      >\n    </label>\n\n    <label>Position: <input name=\"position\" data-qa=\"position\" required></label>\n\n    <label>Office: \n      <select name=\"office\" data-qa=\"office\" required>\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n    \n    <label>\n      Age: \n      <input\n        type=\"number\"\n        name=\"age\"\n        data-qa=\"age\"\n        required\n      >\n    </label>\n\n    <label>\n      Salary:\n      <input\n        type=\"number\"\n        name=\"salary\"\n        data-qa=\"salary\"\n        required\n      >\n    </label>\n\n    <button>Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('form');\nconst notification = document.createElement('div');\n\nnotification.className = 'new-employee-form';\nnotification.setAttribute('data-qa', 'notification');\nnotification.style.fontWeight = 'bold';\nnotification.style.fontSize = '20px';\nnotification.style.position = 'absolute';\nnotification.style.top = '440px';\nnotification.style.visibility = 'hidden';\n\ndocument.body.append(notification);\n\ntBody.addEventListener('dblclick', (e) => {\n  const initialText = e.target.innerText;\n  const cellInput = document.createElement('input');\n\n  e.target.innerText = '';\n  cellInput.classList.add('cell-input');\n\n  e.target.appendChild(cellInput);\n  cellInput.focus();\n\n  cellInput.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      e.target.textContent = ev.target.value;\n\n      if (ev.target.value === '') {\n        e.target.innerText = initialText;\n      }\n    }\n  });\n\n  cellInput.addEventListener('blur', (ev) => {\n    e.target.innerText = ev.target.value;\n\n    if (cellInput.value === '') {\n      e.target.innerText = initialText;\n    }\n  });\n});\n\nconst button = document.querySelector('button');\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n  pushNewEmployee();\n\n  const formWidth = parseInt(window.getComputedStyle(form, null).width);\n  const formPadding = parseInt(window.getComputedStyle(form, null).padding);\n  const tbodyWidth = parseInt(window.getComputedStyle(tBody, null).width);\n  const rightNotifPos\n   = (window.innerWidth - (tbodyWidth + formWidth + formPadding)) / 2;\n\n  notification.style.right = `${rightNotifPos}px`;\n  notification.style.width = window.getComputedStyle(form, null).width;\n});\n\nfunction pushNewEmployee() {\n  const newEmployee = validation(\n    form.elements.name.value,\n    form.elements.position.value,\n    form.elements.age.value,\n    form.elements.salary.value,\n  );\n\n  if (newEmployee.flag) {\n    tBody.insertAdjacentHTML('beforeend', `\n      <tr>\n        <td>${form.elements.name.value}</td>\n        <td>${form.elements.position.value}</td>\n        <td>${form.elements.office.value}</td>\n        <td>${form.elements.age.value}</td>\n        <td>${salaryToString(form.elements.salary.value)}</td>\n      </tr>\n    `);\n    notification.innerText = 'Sucsess!!! \\n\\n New employee added.';\n    notification.classList.add('success');\n    notification.style.visibility = 'visible';\n\n    for (const el of form.elements) {\n      if (el.name !== 'office') {\n        el.value = '';\n      }\n    }\n\n    setTimeout(() => {\n      notification.style.visibility = 'hidden';\n    }, 3000);\n  } else {\n    notification.innerText = newEmployee.description;\n    notification.classList.add('error');\n    notification.style.visibility = 'visible';\n  }\n}\n\nfunction salaryToString(num, separ = ',') {\n  const str = num.toString();\n  let result = '';\n\n  for (let i = 0; i < str.length / 3; i++) {\n    result = separ + str.slice(-((i + 1) * 3), str.length - (i * 3)) + result;\n  }\n\n  return '$' + result.slice(1);\n};\n\nfunction validation(inputName, inputPosition, inputAge, inputSalary) {\n  const result = {};\n\n  result.flag = true;\n\n  if (inputName.length < 4) {\n    result.flag = false;\n    result.description = 'Error!!!\\n\\nPut your name at least 4 letters!';\n  }\n\n  if (inputPosition === '') {\n    result.description += '\\n\\nWhat is your job?';\n\n    if (result.flag) {\n      result.flag = false;\n      result.description = 'Error!!!\\n\\nWhat is your job?';\n    }\n  }\n\n  if (!inputAge) {\n    result.description += '\\n\\nHow old are you?';\n\n    if (result.flag) {\n      result.flag = false;\n      result.description = 'Error!!!\\n\\nHow old are you?';\n    }\n  }\n\n  if (inputAge < 18 && inputAge > 0) {\n    result.description += '\\n\\nGrow up a little...';\n\n    if (result.flag) {\n      result.flag = false;\n      result.description = 'Error!!!\\n\\nGrow up a little...';\n    }\n  }\n\n  if (inputAge > 90) {\n    result.description += '\\n\\nSee you next life...';\n\n    if (result.flag) {\n      result.flag = false;\n      result.description = 'Error!!!\\n\\nSee you next life...';\n    }\n  }\n\n  if (!inputSalary) {\n    result.description += '\\n\\nEvery man has his price...';\n\n    if (result.flag) {\n      result.flag = false;\n      result.description = 'Error!!!\\n\\nEvery man has his price...';\n    }\n  }\n\n  return result;\n};\n"]}